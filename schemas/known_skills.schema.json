{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"title": "Known Skills Per Character",
	"type": "object",
	"description": "List of skills known by this character, indexed by canonical skill name.",
	"patternProperties": {
		"^.+$": {
			"type": "object",
			"description": "Metadata for this known skill instance",
			"required": ["rarity", "first_learned", "source"],
			"properties": {
				"rarity": {
					"type": "string",
					"enum": ["Inferior", "Common", "Uncommon", "Rare", "Epic", "Legendary", "Unique"]
				},
				"first_learned": {
					"type": "object",
					"required": ["scene_id", "day"],
					"properties": {
						"scene_id": {
							"type": "string",
							"description": "Scene ID where the skill was first gained, e.g. '01-02-01'"
						},
						"line": {
							"type": "integer",
							"description": "Optional line number in the source file",
							"nullable": true
						},
						"day": {
							"type": "integer",
							"description": "In-universe day the skill was first learned"
						}
					},
					"additionalProperties": false
				},
				"source": {
					"type": "string",
					"description": "In-universe reason the character received the skill, e.g., 'Archer starter class', 'Level up', 'Title reward'"
				},
				"replaced": {
					"type": "string",
					"description": "If this skill replaced another, provide the replaced skill name"
				},
				"tags": {
					"type": "array",
					"description": "Optional tagging system for analysis or filtering",
					"items": { "type": "string" }
				},
				"notes": {
					"type": "string",
					"description": "Freeform developer notes"
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false
}
